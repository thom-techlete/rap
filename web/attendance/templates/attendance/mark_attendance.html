{% extends 'base.html' %}

{% block title %}Aanwezigheid - {{ event.name }} - SV Rap 8{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">
        <i data-feather="user-check" style="width: 2.5rem; height: 2.5rem; margin-right: 1rem; color: var(--primary-600);"></i>
        Aanwezigheid markeren
    </h1>
    <p class="page-subtitle">
        Geef aan of je aanwezig bent bij dit evenement
    </p>
</div>

<div class="grid grid-cols-1" style="max-width: 42rem; margin: 0 auto;">
    <!-- Event Information -->
    <div class="card mb-6">
        <div class="card-header">
            <h2 class="card-title">
                <i data-feather="calendar" style="width: 1.5rem; height: 1.5rem; margin-right: 0.5rem;"></i>
                Evenement details
            </h2>
        </div>
        
        <div class="card-content">
            <div class="flex items-start gap-4">
                <div class="bg-primary text-white rounded-lg p-3 flex-shrink-0">
                    {% if 'training' in event.name.lower %}
                        <i data-feather="activity" style="width: 1.5rem; height: 1.5rem;"></i>
                    {% elif 'wedstrijd' in event.name.lower %}
                        <i data-feather="target" style="width: 1.5rem; height: 1.5rem;"></i>
                    {% else %}
                        <i data-feather="calendar" style="width: 1.5rem; height: 1.5rem;"></i>
                    {% endif %}
                </div>
                
                <div class="flex-1">
                    <h3 class="text-xl font-semibold text-secondary-900 mb-2">{{ event.name }}</h3>
                    
                    <div class="space-y-2">
                        <div class="flex items-center gap-2 text-secondary-600">
                            <i data-feather="clock" style="width: 1rem; height: 1rem;"></i>
                            <span>{{ event.date|date:'d/m/Y, H:i' }}</span>
                        </div>
                        
                        {% if event.location %}
                        <div class="flex items-center gap-2 text-secondary-600">
                            <i data-feather="map-pin" style="width: 1rem; height: 1rem;"></i>
                            <span>{{ event.location }}</span>
                        </div>
                        {% endif %}
                        
                        {% if event.description %}
                        <div class="mt-3 pt-3 border-t border-secondary-200">
                            <p class="text-secondary-600">{{ event.description }}</p>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Attendance Form -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">
                <i data-feather="check-circle" style="width: 1.5rem; height: 1.5rem; margin-right: 0.5rem;"></i>
                Jouw aanwezigheid
            </h2>
        </div>
        
        <div class="card-content">
            <form method="post">
                {% csrf_token %}
                
                <div class="text-center mb-6">
                    <div class="mb-4">
                        {% if attendance.present %}
                            <div class="inline-flex items-center justify-center w-16 h-16 bg-success-100 text-success-600 rounded-full mb-3">
                                <i data-feather="check" style="width: 2rem; height: 2rem;"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-success-600">Je bent aangemeld als aanwezig</h3>
                            <p class="text-secondary-600 mt-2">
                                Geweldig! We zien je bij {{ event.name }}.
                            </p>
                        {% else %}
                            <div class="inline-flex items-center justify-center w-16 h-16 bg-warning-100 text-warning-600 rounded-full mb-3">
                                <i data-feather="x" style="width: 2rem; height: 2rem;"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-warning-600">Je bent aangemeld als afwezig</h3>
                            <p class="text-secondary-600 mt-2">
                                Je hebt aangegeven niet aanwezig te zijn bij {{ event.name }}.
                            </p>
                        {% endif %}
                    </div>
                </div>
                
                <div class="text-center">
                    <button type="submit" class="btn {% if attendance.present %}btn-warning{% else %}btn-success{% endif %}">
                        {% if attendance.present %}
                            <i data-feather="x"></i>
                            Afmelden
                        {% else %}
                            <i data-feather="check"></i>
                            Aanmelden
                        {% endif %}
                    </button>
                </div>
                
                <div class="mt-6 pt-6 border-t border-secondary-200 text-center">
                    <p class="text-sm text-secondary-500 mb-4">
                        Je kunt je aanwezigheid altijd wijzigen tot het evenement begint.
                    </p>
                    <a href="{% url 'events:list' %}" class="btn btn-ghost">
                        <i data-feather="arrow-left"></i>
                        Terug naar evenementen
                    </a>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Additional Information -->
    <div class="card mt-6">
        <div class="card-content">
            <div class="flex items-start gap-3">
                <div class="text-primary-600 flex-shrink-0">
                    <i data-feather="info" style="width: 1.25rem; height: 1.25rem;"></i>
                </div>
                <div>
                    <h4 class="font-semibold text-secondary-900 mb-2">Belangrijk om te weten</h4>
                    <ul class="text-sm text-secondary-600 space-y-1">
                        <li>• Meld je op tijd af als je niet kunt komen</li>
                        <li>• Bij wedstrijden is aanwezigheid extra belangrijk voor de opstelling</li>
                        <li>• Neem contact op met de trainer bij vragen</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
